# plasmidseq.config
# Default config (safe to commit). Override by setting PLASMIDSEQ_CONFIG
# to a different file or by dropping plasmidseq.local.config next to submit.sh.

# Global paths
RESULTS_BASE="/group/llshared/PlasmidSeq/Results"
DEFAULT_TSV="/group/llshared/PlasmidSeq/PL_to_fasta.tsv"
DEFAULT_REFS="/group/llshared/PlasmidSeq/Fasta_Reference_Files"

# Scratch root (submit.sh currently assumes MYSCRATCH exists)
# If your site uses a stable MYSCRATCH, keep it as an env var and don't hardcode here.
# SCRATCH_BASE can be used if you want to decouple from MYSCRATCH.
SCRATCH_BASE="${MYSCRATCH:-}"

# Scheduling knobs
MAX_CONCURRENT_DEFAULT=50
MAX_ARRAY_SIZE=1001

# Partitions / slurm defaults (only if you want to centralize them)
PARTITION_PREP="ll"
PARTITION_MAP="work"
PARTITION_GATHER="ll"

# Optional: account/qos if your site needs it
SBATCH_ACCOUNT=""   # e.g. "peb002"
SBATCH_QOS=""       # e.g. "normal"

# Compute resources for mapping (if you later want submit to enforce consistency)
MAP_CPUS_PER_TASK=4
MAP_MEM_PER_CPU="6G"

# Environment setup
MODULES="${MODULES:-gcc}"   # space-separated; leave empty to skip module load
CONDA_INIT="${CONDA_INIT:-}" # optional: path to conda.sh to source before "conda activate"
CONDA_ENV="${CONDA_ENV:-/group/llshared/shared_conda_envs/plasmidseq}"  # conda env name or full path

# Pipeline scripts (portable defaults)
PIPELINE_SCRIPTS_DIR="${PIPELINE_SCRIPTS_DIR:-}"  # if empty, scripts resolve relative to each SLURM script location
MATCHER_BASENAME="match_plasmid_fasta_refs_v2.bash"
MAPPER_BASENAME="${MAPPER_BASENAME:-plasmidseq_mapper_PE.sh}"
MATCHER_PATH=""  # optional absolute override
MAPPER_PATH="${MAPPER_PATH:-}"    # optional absolute override
MATCHER_FALLBACK=""
MAPPER_FALLBACK=""

# SLURM script paths (optional overrides)
PREP_SLURM_BASENAME="${PREP_SLURM_BASENAME:-plasmidseq_prepare_SLURM.sh}"
MAP_SLURM_BASENAME="${MAP_SLURM_BASENAME:-plasmidseq_map_array_SLURM.sh}"
GATHER_SLURM_BASENAME="${GATHER_SLURM_BASENAME:-plasmidseq_gather_SLURM.sh}"
